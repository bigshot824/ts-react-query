{"ast":null,"code":"const items = [];\nexport default (async (req, res) => {\n  await new Promise(r => setTimeout(r, 1000));\n\n  if (req.method === 'POST') {\n    const {\n      text\n    } = req.body; // sometimes it will fail, this will cause a regression on the UI\n\n    if (Math.random() > 0.7) {\n      res.status(500);\n      res.json({\n        message: 'Could not add item!'\n      });\n      return;\n    }\n\n    const newTodo = {\n      id: Math.random().toString(),\n      text: text.toUpperCase()\n    };\n    items.push(newTodo);\n    res.json(newTodo);\n    return;\n  } else {\n    res.json({\n      ts: Date.now(),\n      items\n    });\n  }\n});","map":null,"metadata":{},"sourceType":"module"}